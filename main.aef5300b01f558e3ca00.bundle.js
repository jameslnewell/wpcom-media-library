(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{299:function(module,exports){},300:function(module,__webpack_exports__,__webpack_require__){"use strict";!function(){function MockClient(mocks){this.mocks=mocks}MockClient.prototype.list=function(siteId){if(this.mocks.list)return this.mocks.list(siteId);throw new Error("A mock for .list() mock is not implemented.")},MockClient.prototype.createFromFile=function(siteId,file){if(this.mocks.createFromFile)return this.mocks.createFromFile(siteId,file);throw new Error("A mock for .createFromFile() mock is not implemented.")},MockClient.prototype.createFromURL=function(siteId,url){if(this.mocks.createFromURL)return this.mocks.createFromURL(siteId,url);throw new Error("A mock for .createFromURL() mock is not implemented.")},MockClient.prototype.get=function(siteId,mediaId){if(this.mocks.get)return this.mocks.get(siteId,mediaId);throw new Error("A mock for .get() mock is not implemented.")},MockClient.prototype.update=function(siteId,mediaId,data){if(this.mocks.update)return this.mocks.update(siteId,mediaId,data);throw new Error("A mock for .update() mock is not implemented.")},MockClient.prototype.delete=function(siteId,mediaId){if(this.mocks.delete)return this.mocks.delete(siteId,mediaId);throw new Error("A mock for .delete() mock is not implemented.")}}()},321:function(module,__webpack_exports__,__webpack_require__){"use strict";var tslib_es6=__webpack_require__(9),build=__webpack_require__(197),build_default=__webpack_require__.n(build),isAuthorized=!1,request=function(method,path,data){return new Promise((function(resolve,reject){build_default()({method:method,path:path,formData:data},(function(error,body){error?reject(error):resolve(body)}))}))},fetch=function(method,path,data){return Object(tslib_es6.b)(void 0,void 0,Promise,(function(){return Object(tslib_es6.c)(this,(function(_a){switch(_a.label){case 0:return[4,new Promise((function(resolve,reject){isAuthorized?resolve():build_default()({metaAPI:{accessAllUsersBlogs:!0}},(function(error){error?reject(error):(isAuthorized=!0,resolve())}))}))];case 1:return _a.sent(),[4,request(method,path,data)];case 2:return[2,_a.sent()]}}))}))};__webpack_require__.d(__webpack_exports__,"a",(function(){return wpcom_browser_WPCOMBrowserClient}));var wpcom_browser_WPCOMBrowserClient=function(){function WPCOMBrowserClient(){}return WPCOMBrowserClient.prototype.list=function(siteId){return Object(tslib_es6.b)(this,void 0,Promise,(function(){return Object(tslib_es6.c)(this,(function(_a){switch(_a.label){case 0:return[4,fetch("GET","/sites/"+siteId+"/media")];case 1:return[2,_a.sent()]}}))}))},WPCOMBrowserClient.prototype.createFromFile=function(siteId,file){return Object(tslib_es6.b)(this,void 0,Promise,(function(){return Object(tslib_es6.c)(this,(function(_a){switch(_a.label){case 0:return[4,fetch("POST","/sites/"+siteId+"/media/new",[["media[]",file]])];case 1:return[2,_a.sent()]}}))}))},WPCOMBrowserClient.prototype.createFromURL=function(siteId,url){return Object(tslib_es6.b)(this,void 0,Promise,(function(){return Object(tslib_es6.c)(this,(function(_a){switch(_a.label){case 0:return[4,fetch("POST","/sites/"+siteId+"/media/new",[["media_urls[]",url]])];case 1:return[2,_a.sent()]}}))}))},WPCOMBrowserClient.prototype.get=function(siteId,mediaId){return Object(tslib_es6.b)(this,void 0,Promise,(function(){return Object(tslib_es6.c)(this,(function(_a){switch(_a.label){case 0:return[4,fetch("GET","/sites/"+siteId+"/media/"+mediaId)];case 1:return[2,_a.sent()]}}))}))},WPCOMBrowserClient.prototype.update=function(siteId,mediaId,data){return Object(tslib_es6.b)(this,void 0,Promise,(function(){var keys;return Object(tslib_es6.c)(this,(function(_a){switch(_a.label){case 0:return keys=Object.keys(data),[4,fetch("POST","/sites/"+siteId+"/media/"+mediaId,Object(tslib_es6.d)([["ID",mediaId]],keys.map((function(key){return[key,data[key]]}))))];case 1:return[2,_a.sent()]}}))}))},WPCOMBrowserClient.prototype.delete=function(siteId,mediaId){return Object(tslib_es6.b)(this,void 0,Promise,(function(){return Object(tslib_es6.c)(this,(function(_a){switch(_a.label){case 0:return[4,fetch("POST","/sites/"+siteId+"/media/"+mediaId+"/delete")];case 1:return[2,_a.sent()]}}))}))},WPCOMBrowserClient}()},323:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Client__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(299);__webpack_require__.o(_Client__WEBPACK_IMPORTED_MODULE_0__,"WPCOMBrowserClient")&&__webpack_require__.d(__webpack_exports__,"WPCOMBrowserClient",(function(){return _Client__WEBPACK_IMPORTED_MODULE_0__.WPCOMBrowserClient}));__webpack_require__(300);var _wpcom_browser__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(321);__webpack_require__.d(__webpack_exports__,"WPCOMBrowserClient",(function(){return _wpcom_browser__WEBPACK_IMPORTED_MODULE_2__.a}))},324:function(module,exports,__webpack_require__){__webpack_require__(325),__webpack_require__(471),module.exports=__webpack_require__(472)},389:function(module,exports){},472:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(322);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(662)],module)}.call(this,__webpack_require__(473)(module))},662:function(module,exports,__webpack_require__){var map={"./Gallery/index.stories.tsx":734,"./client/wpcom-browser/index.stories.tsx":735};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=662},734:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),Gallery=function(){return react_default.a.createElement("div",null,"Gallery")};__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic}));__webpack_exports__.default={title:"Gallery"};var Basic=function(){return react_default.a.createElement(Gallery,null)}},735:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var tslib_es6=__webpack_require__(9),react=__webpack_require__(0),react_default=__webpack_require__.n(react),index_esm=__webpack_require__(61),client=__webpack_require__(323),siteId="160146488";__webpack_require__.d(__webpack_exports__,"List",(function(){return List})),__webpack_require__.d(__webpack_exports__,"CreateFromFile",(function(){return CreateFromFile})),__webpack_require__.d(__webpack_exports__,"CreateFromURL",(function(){return CreateFromURL})),__webpack_require__.d(__webpack_exports__,"Get",(function(){return Get})),__webpack_require__.d(__webpack_exports__,"Update",(function(){return Update})),__webpack_require__.d(__webpack_exports__,"Delete",(function(){return Delete}));var index_stories_client=new client.WPCOMBrowserClient,Item=(__webpack_exports__.default={title:"Client/WPCOMBrowserClient"},function(_a){var id=_a.id,link=_a.link,title=_a.title;return react_default.a.createElement("span",null,"#",id," - ",title,react_default.a.createElement("br",null),react_default.a.createElement("img",{src:link,alt:""}))}),ItemList=function(_a){var items=_a.items;return react_default.a.createElement("div",null,items.map((function(item){return react_default.a.createElement(Item,Object(tslib_es6.a)({key:item.id},item))})))},List=function(){var result=Object(index_esm.b)((function(){return index_stories_client.list(siteId)}),[index_stories_client,siteId])[0];return react_default.a.createElement("div",null,result&&result.media&&react_default.a.createElement(ItemList,{items:result.media}))},CreateFromFile=function(){var input=Object(react.useRef)(null),_a=Object(index_esm.a)((function(file){return index_stories_client.createFromFile(siteId,file)}),[index_stories_client,siteId]),create=_a[0],result=_a[1],_b=_a[2],isPending=_b.isPending,error=_b.error;return react_default.a.createElement("div",null,react_default.a.createElement("form",{onSubmit:function(event){var _a,_b,_c;event.preventDefault();var file=null===(_c=null===(_b=null===(_a=input)||void 0===_a?void 0:_a.current)||void 0===_b?void 0:_b.files)||void 0===_c?void 0:_c[0];file&&create(file)}},react_default.a.createElement("input",{type:"file",ref:input}),react_default.a.createElement("button",{disabled:isPending},"Create from File")),error&&react_default.a.createElement("span",null,error&&error.message||error),result&&result.media&&react_default.a.createElement(ItemList,{items:result.media}))},CreateFromURL=function(){var input=Object(react.useRef)(null),_a=Object(index_esm.a)((function(url){return index_stories_client.createFromURL(siteId,url)}),[index_stories_client,siteId]),create=_a[0],result=_a[1],_b=_a[2],isPending=_b.isPending,error=_b.error;return react_default.a.createElement("div",null,react_default.a.createElement("form",{onSubmit:function(event){var _a,_b;event.preventDefault();var url=null===(_b=null===(_a=input)||void 0===_a?void 0:_a.current)||void 0===_b?void 0:_b.value;url&&create(url)}},react_default.a.createElement("input",{type:"text",ref:input,placeholder:"URL"}),react_default.a.createElement("button",{disabled:isPending},"Create from URL")),error&&react_default.a.createElement("span",null,error&&error.message||error),result&&result.media&&react_default.a.createElement(ItemList,{items:result.media}))},Get=function(){var input=Object(react.useRef)(null),_a=Object(index_esm.a)((function(id){return index_stories_client.get(siteId,id)}),[index_stories_client,siteId]),get=_a[0],result=_a[1],_b=_a[2],isPending=_b.isPending,error=_b.error;return react_default.a.createElement("div",null,react_default.a.createElement("form",{onSubmit:function(event){var _a,_b;event.preventDefault();var id=null===(_b=null===(_a=input)||void 0===_a?void 0:_a.current)||void 0===_b?void 0:_b.value;id&&get(id)}},react_default.a.createElement("input",{type:"text",ref:input,placeholder:"ID"}),react_default.a.createElement("button",{disabled:isPending},"Get")),error&&react_default.a.createElement("span",null,error&&error.message||error),result&&react_default.a.createElement(Item,Object(tslib_es6.a)({},result)))},Update=function(){var idInput=Object(react.useRef)(null),titleInput=Object(react.useRef)(null),_a=Object(index_esm.a)((function(id,title){return index_stories_client.update(siteId,id,{title:title})}),[index_stories_client,siteId]),update=_a[0],result=_a[1],_b=_a[2],isPending=_b.isPending,error=_b.error;return react_default.a.createElement("div",null,react_default.a.createElement("form",{onSubmit:function(event){var _a,_b,_c,_d;event.preventDefault();var id=null===(_b=null===(_a=idInput)||void 0===_a?void 0:_a.current)||void 0===_b?void 0:_b.value,title=null===(_d=null===(_c=titleInput)||void 0===_c?void 0:_c.current)||void 0===_d?void 0:_d.value;id&&title&&update(id,title)}},react_default.a.createElement("input",{type:"text",ref:idInput,placeholder:"ID"}),react_default.a.createElement("input",{type:"text",ref:titleInput,placeholder:"Title"}),react_default.a.createElement("button",{disabled:isPending},"Update")),error&&react_default.a.createElement("span",null,error&&error.message||error),result&&react_default.a.createElement(Item,Object(tslib_es6.a)({},result)))},Delete=function(){var input=Object(react.useRef)(null),_a=Object(index_esm.a)((function(id){return index_stories_client.delete(siteId,id)}),[index_stories_client,siteId]),del=_a[0],_b=_a[2],isPending=_b.isPending,error=_b.error;return react_default.a.createElement("div",null,react_default.a.createElement("form",{onSubmit:function(event){var _a,_b;event.preventDefault();var id=null===(_b=null===(_a=input)||void 0===_a?void 0:_a.current)||void 0===_b?void 0:_b.value;id&&del(id)}},react_default.a.createElement("input",{type:"text",ref:input,placeholder:"ID"}),react_default.a.createElement("button",{disabled:isPending},"Delete")),error&&react_default.a.createElement("span",null,error&&error.message||error))}}},[[324,1,2]]]);
//# sourceMappingURL=main.aef5300b01f558e3ca00.bundle.js.map